#pragma once

/**
 * @file mpu6050_regs.h
 * @brief MPU6050 寄存器定义和相关宏
 */

// 传感器配置参数
#define SENSORS_GYRO_FS_CFG MPU6500_GYRO_FS_2000
#define SENSORS_ACCEL_FS_CFG MPU6500_ACCEL_FS_16

// I2C地址定义
#define MPU6500_ADDR (0x69)
#define MPU6500_ADDRESS_AD0_LOW 0x68   // address pin low (GND), default for InvenSense evaluation board
#define MPU6500_ADDRESS_AD0_HIGH 0x69  // address pin high (VCC)
#define MPU6500_DEFAULT_ADDRESS MPU6500_ADDRESS_AD0_HIGH

// 寄存器地址定义
#define MPU6500_RA_ST_X_GYRO 0x00
#define MPU6500_RA_ST_Y_GYRO 0x01
#define MPU6500_RA_ST_Z_GYRO 0x02
#define MPU6500_RA_ST_X_ACCEL 0x0D
#define MPU6500_RA_ST_Y_ACCEL 0x0E
#define MPU6500_RA_ST_Z_ACCEL 0x0F
#define MPU6500_RA_XG_OFFS_USRH 0x13  //[15:0] XG_OFFS_USR
#define MPU6500_RA_XG_OFFS_USRL 0x14
#define MPU6500_RA_YG_OFFS_USRH 0x15  //[15:0] YG_OFFS_USR
#define MPU6500_RA_YG_OFFS_USRL 0x16
#define MPU6500_RA_ZG_OFFS_USRH 0x17  //[15:0] ZG_OFFS_USR
#define MPU6500_RA_ZG_OFFS_USRL 0x18
#define MPU6500_RA_SMPLRT_DIV 0x19
#define MPU6500_RA_CONFIG 0x1A
#define MPU6500_RA_GYRO_CONFIG 0x1B
#define MPU6500_RA_ACCEL_CONFIG 0x1C
#define MPU6500_RA_ACCEL_CONFIG_2 0x1D
#define MPU6500_RA_LP_ACCEL_ODR 0x1E
#define MPU6500_RA_WOM_THR 0x1F

#define MPU6500_RA_FIFO_EN 0x23
#define MPU6500_RA_I2C_MST_CTRL 0x24
#define MPU6500_RA_I2C_SLV0_ADDR 0x25
#define MPU6500_RA_I2C_SLV0_REG 0x26
#define MPU6500_RA_I2C_SLV0_CTRL 0x27
#define MPU6500_RA_I2C_SLV1_ADDR 0x28
#define MPU6500_RA_I2C_SLV1_REG 0x29
#define MPU6500_RA_I2C_SLV1_CTRL 0x2A
#define MPU6500_RA_I2C_SLV2_ADDR 0x2B
#define MPU6500_RA_I2C_SLV2_REG 0x2C
#define MPU6500_RA_I2C_SLV2_CTRL 0x2D
#define MPU6500_RA_I2C_SLV3_ADDR 0x2E
#define MPU6500_RA_I2C_SLV3_REG 0x2F
#define MPU6500_RA_I2C_SLV3_CTRL 0x30
#define MPU6500_RA_I2C_SLV4_ADDR 0x31
#define MPU6500_RA_I2C_SLV4_REG 0x32
#define MPU6500_RA_I2C_SLV4_DO 0x33
#define MPU6500_RA_I2C_SLV4_CTRL 0x34
#define MPU6500_RA_I2C_SLV4_DI 0x35
#define MPU6500_RA_I2C_MST_STATUS 0x36
#define MPU6500_RA_INT_PIN_CFG 0x37
#define MPU6500_RA_INT_ENABLE 0x38
#define MPU6500_RA_DMP_INT_STATUS 0x39
#define MPU6500_RA_INT_STATUS 0x3A
#define MPU6500_RA_ACCEL_XOUT_H 0x3B
#define MPU6500_RA_ACCEL_XOUT_L 0x3C
#define MPU6500_RA_ACCEL_YOUT_H 0x3D
#define MPU6500_RA_ACCEL_YOUT_L 0x3E
#define MPU6500_RA_ACCEL_ZOUT_H 0x3F
#define MPU6500_RA_ACCEL_ZOUT_L 0x40
#define MPU6500_RA_TEMP_OUT_H 0x41
#define MPU6500_RA_TEMP_OUT_L 0x42
#define MPU6500_RA_GYRO_XOUT_H 0x43
#define MPU6500_RA_GYRO_XOUT_L 0x44
#define MPU6500_RA_GYRO_YOUT_H 0x45
#define MPU6500_RA_GYRO_YOUT_L 0x46
#define MPU6500_RA_GYRO_ZOUT_H 0x47
#define MPU6500_RA_GYRO_ZOUT_L 0x48
#define MPU6500_RA_USER_CTRL 0x6A
#define MPU6500_RA_PWR_MGMT_1 0x6B
#define MPU6500_RA_PWR_MGMT_2 0x6C
#define MPU6500_RA_WHO_AM_I 0x75

// 位定义
#define MPU6500_CFG_DLPF_CFG_BIT 2
#define MPU6500_CFG_DLPF_CFG_LENGTH 3

#define MPU6500_GCONFIG_FS_SEL_BIT 4
#define MPU6500_GCONFIG_FS_SEL_LENGTH 2

#define MPU6500_ACONFIG_AFS_SEL_BIT 4
#define MPU6500_ACONFIG_AFS_SEL_LENGTH 2

#define MPU6500_PWR1_DEVICE_RESET_BIT 7
#define MPU6500_PWR1_SLEEP_BIT 6
#define MPU6500_PWR1_TEMP_DIS_BIT 3
#define MPU6500_PWR1_CLKSEL_BIT 2
#define MPU6500_PWR1_CLKSEL_LENGTH 3

#define MPU6500_INTCFG_I2C_BYPASS_EN_BIT 1

// 陀螺仪满量程范围配置
#define MPU6500_GYRO_FS_250 0x00
#define MPU6500_GYRO_FS_500 0x01
#define MPU6500_GYRO_FS_1000 0x02
#define MPU6500_GYRO_FS_2000 0x03

// 加速度计满量程范围配置
#define MPU6500_ACCEL_FS_2 0x00
#define MPU6500_ACCEL_FS_4 0x01
#define MPU6500_ACCEL_FS_8 0x02
#define MPU6500_ACCEL_FS_16 0x03

// 时钟源配置
#define MPU6500_CLOCK_INTERNAL 0x00
#define MPU6500_CLOCK_PLL_XGYRO 0x01
#define MPU6500_CLOCK_PLL_YGYRO 0x02
#define MPU6500_CLOCK_PLL_ZGYRO 0x03
#define MPU6500_CLOCK_PLL_EXT32K 0x04
#define MPU6500_CLOCK_PLL_EXT19M 0x05
#define MPU6500_CLOCK_KEEP_RESET 0x07

// 数字低通滤波器配置
#define MPU6500_DLPF_BW_256 0x00
#define MPU6500_DLPF_BW_188 0x01
#define MPU6500_DLPF_BW_98 0x02
#define MPU6500_DLPF_BW_42 0x03
#define MPU6500_DLPF_BW_20 0x04
#define MPU6500_DLPF_BW_10 0x05
#define MPU6500_DLPF_BW_5 0x06

// 加速度计低通滤波器配置
#define MPU6500_ACCEL_DLPF_BW_460 0x00
#define MPU6500_ACCEL_DLPF_BW_184 0x01
#define MPU6500_ACCEL_DLPF_BW_92 0x02
#define MPU6500_ACCEL_DLPF_BW_41 0x03
#define MPU6500_ACCEL_DLPF_BW_20 0x04
#define MPU6500_ACCEL_DLPF_BW_10 0x05
#define MPU6500_ACCEL_DLPF_BW_5 0x06

#define MPU6500_WHO_AM_I_BIT 6
#define MPU6500_WHO_AM_I_LENGTH 6

#define MPU6500_TEMP_FIFO_EN_BIT 7
#define MPU6500_XG_FIFO_EN_BIT 6
#define MPU6500_YG_FIFO_EN_BIT 5
#define MPU6500_ZG_FIFO_EN_BIT 4
#define MPU6500_ACCEL_FIFO_EN_BIT 3
#define MPU6500_SLV2_FIFO_EN_BIT 2
#define MPU6500_SLV1_FIFO_EN_BIT 1
#define MPU6500_SLV0_FIFO_EN_BIT 0

#define MPU6500_MULT_MST_EN_BIT 7
#define MPU6500_WAIT_FOR_ES_BIT 6
#define MPU6500_SLV_3_FIFO_EN_BIT 5
#define MPU6500_I2C_MST_P_NSR_BIT 4
#define MPU6500_I2C_MST_CLK_BIT 3
#define MPU6500_I2C_MST_CLK_LENGTH 4

#define MPU6500_INTCFG_INT_LEVEL_BIT 7
#define MPU6500_INTCFG_INT_OPEN_BIT 6
#define MPU6500_INTCFG_LATCH_INT_EN_BIT 5
#define MPU6500_INTCFG_INT_RD_CLEAR_BIT 4
#define MPU6500_INTCFG_FSYNC_INT_LEVEL_BIT 3
#define MPU6500_INTCFG_FSYNC_INT_EN_BIT 2
#define MPU6500_INTCFG_I2C_BYPASS_EN_BIT 1
#define MPU6500_INTCFG_CLKOUT_EN_BIT 0

#define MPU6500_USERCTRL_DMP_EN_BIT 7
#define MPU6500_USERCTRL_FIFO_EN_BIT 6
#define MPU6500_USERCTRL_I2C_MST_EN_BIT 5
#define MPU6500_USERCTRL_I2C_IF_DIS_BIT 4
#define MPU6500_USERCTRL_DMP_RESET_BIT 3
#define MPU6500_USERCTRL_FIFO_RESET_BIT 2
#define MPU6500_USERCTRL_I2C_MST_RESET_BIT 1
#define MPU6500_USERCTRL_SIG_COND_RESET_BIT 0

#define MPU6500_INTERRUPT_FF_BIT 7
#define MPU6500_INTERRUPT_MOT_BIT 6
#define MPU6500_INTERRUPT_ZMOT_BIT 5
#define MPU6500_INTERRUPT_FIFO_OFLOW_BIT 4
#define MPU6500_INTERRUPT_I2C_MST_INT_BIT 3
#define MPU6500_INTERRUPT_PLL_RDY_INT_BIT 2
#define MPU6500_INTERRUPT_DMP_INT_BIT 1
#define MPU6500_INTERRUPT_DATA_RDY_BIT 0
