from building import *
import os

cwd = GetCurrentDir()
src  = []
path = []

# Add include path for timestamp headers
path += [cwd + '/inc']

# Timestamp functionality - always included based on platform
if GetDepend('SOC_FAMILY_AT32'):
    src += ['src/at32TimeStamp.c']
elif GetDepend('SOC_FAMILY_STM32'):
    src += ['src/stm32TimeStamp.c']

# Hardware timer configuration - only included if RT_USING_HWTIMER is defined
if GetDepend('RT_USING_HWTIMER'):
    if GetDepend('SOC_FAMILY_AT32'):
        src += ['src/at32TimerConfig.c']

# Create group with timestamp functionality always available
group = DefineGroup('TIMER_CONFIG', src, depend = [], CPPPATH = path)

Return('group')

